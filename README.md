# README

## Описание

Данная программа предназначена для обработки лог-файлов, агрегации данных и их экспорта в формате CSV или JSON. Она позволяет группировать данные по заданным полям и выполнять агрегацию по определённому свойству.

## Установка

Для работы с программой необходимо установить Go. После установки Go, клонируйте репозиторий и выполните команду:

```bash
go build
```

## Использование

### Запуск программы

Программа запускается с помощью командной строки. Основной синтаксис:

```bash
tview_csv --group <имя_поля> --aggregate <имя_агрегируемого_поля> --format <формат> <файлы>
```

### Параметры

- `--group` или `-g`: Имена свойств, по которым нужно группировать (по умолчанию "event").
- `--aggregate` или `-a`: Имя свойства для агрегации (по умолчанию "duration").
- `--format` или `-o`: Формат вывода, может быть "csv" или "json" (по умолчанию "csv").
- `<файлы>`: Обязательный аргумент, указывающий на файлы логов с расширением `.log`, которые необходимо обработать. Можно указывать маску, маска для ОС Windows поддерживается

### Пример использования

```bash
tview_csv --group event --aggregate duration --format json *.log
```

## Алгоритм работы

1. **Инициализация**: Программа инициализирует флаги командной строки и считывает входные файлы.
2. **Обработка файлов**: Для каждого файла создаётся горутина, которая обрабатывает его построчно:
   - Считывает строки и обрабатывает их с помощью форматирования.
   - Группирует данные по заданным полям и выполняет агрегацию.
3. **Сбор результатов**: После обработки всех файлов результаты собираются и агрегируются.
4. **Экспорт данных**: В зависимости от выбранного формата, данные экспортируются в стандартный вывод в формате CSV или JSON.

## Примечания

- Убедитесь, что все необходимые зависимости установлены.
- Для корректной работы программы необходимо, чтобы лог-файлы имели правильный формат.

## Лицензия

Этот проект лицензирован под GNU ver 3 License - смотрите файл [LICENSE](LICENSE) для подробностей.